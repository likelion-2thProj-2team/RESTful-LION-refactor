# [2주차] Project_2팀 진행상황 공유

프로젝트 팀 구성원을 기재해 주시고, 그 주의 팀원이 어떤 역할을 맡아서 개발을 진행했는지 구체적으로 작성해 주세요. 🙂

---

- 김찬규: oAuth 로그인 기능, 회원 가입, 로그인, 패스워드 찾기, 이메일 전송 기능 개발
- 윤희준: 호텔예약프로그램 메인로직 개발
- 노채운: 결제 시스템 개발
- 최주오 : 숙소 CRUD, 숙소 API
- 조미내: 인증 및 회원관련기능 개발, 리뷰기능 개발
- 양소민: Q&A 기능 개발
- 정치헌 : 프론트 헤더 및 전체적인 틀 개발

## 팀 내부 회의 진행 회차 및 일자

---

예) 1회차(2024.03.18) 구글 밋 진행, (OOO님 불참)

- 일주일 간 진행한 내부 회의 횟수와 일자, 진행 방법, 불참 인원을 위와 같이 작성해 주세요.
- 1회차(2024.04.15) 디스코드 회의 진행
- 2회차(2024.04.16) 디스코드 회의 진행 (최주오 불참)
- 3회차(2024.04.17) 디스코드 회의 진행
- 4회차(2024.04.18) 디스코드 회의 진행 (조미내 조퇴)
- 5회차(2024.04.19) 디스코드 회의 진행 (윤희준 면접)

## 현재까지 개발 과정 요약 (최소 500자 이상)

---

현재까지 진행하고 있는 개발 현황을 기능별 목표, 목표달성률, 성과자체평가(상세히) 작성해주세요.

- 성과자체평가는 ‘기술적으로 새로 알게된 점, 어려웠던 점, 아쉬운 점, 시도해볼 점' 등을 작성해 주시면 됩니다 🙂
- 팀원 각자 현재 구현하고 있는 것을 적어주세요. :)
- ex) 기능별 목표: 암기장 삭제하기 기능 추가 / 목표달성률: 50% - 마켓에서 등록해제는 가능, 내 암기장 삭제는 아직 미구현 / 지속적으로 수정사항이 발생하여 완성도를 올리는 중, 현재 관련 문서 참고 중
- 김찬규
  - 기능별 목표: 회원가입, 로그인, oAuth2 로그인, 비밀번호 찾기, 비밀번호 변경
  - 목표 달성률: 50%
  - 목표의 백엔드 API 부분은 거의 작성이 되었음. 프론트와의 조율이 필요한듯 함.
    추가적으로 관리자 기능, 마이페이지 기능 정도 구현해야함.
- 조미내
  - 기능별 목표: 회원가입, 소셜로그인, 로그인, 비밀번호 찾기, 비밀번호 변경, 이메일 인증
  - 목표 달성률: 50%
  - 소셜 로그인과 로그인 기능 구현 완료함. 비밀번호 찾기 할 때 이메일로 코드 받아와서 인증하는 로직 구현함. 코어가 되는 기능들(회원가입, 로그인, 소셜로그인, 비밀번호 찾기, 비밀번호 변경)은 어느 정도 구현 완료되었고, 세부적인 기능들을 마무리하는 작업이 필요.
- 최주오
  - 기능별 목표 : 한국관광공사 API를 활용하여 숙소 정보 불러오기, 호텔 CRUD
  - 목표 달성률 : 60%
  - API 호출을 위한 `ApiService`클래스를 만들고 URI를 빌드하여 JSON형식의 관광지 데이터를 받아왔다. 사용자가 지역명으로 숙소를 조회할 수 있는 `callHotelByRegionApi`, 키워드로 숙소를 검색할 수 있는 `callHotelByKeywordApi`, 숙소의 위도, 경도 좌표를 이용해 반경 10km 이내 관광지 정보도 제공하는 `callSpotByLocationApi`를구현했다.

    또한 새로운 숙소를 등록하기 위해 호텔 CRUD를 구현했다. 숙소는 JSON 형식으로 사용자에게 전달받으며 해당 JSON에 방 정보를 담은 리스트도 함께 전달받는다.

    추후 개발 시 숙박업소에서 API를 통해 본인의 숙소 정보를 불러와서 기타 세부 정보(숙소 설명, 방 정보 등)을 입력할 수 있는 기능을 개발하고자 한다.

- 윤희준
  - 호텔 api로직을 json 파싱을 사용해 분리해서 받아봤다.
  - 검색부분의 앞단을 thyleaf를 사용해 간단히 구현해보고 테스트 데이터를 넣고 작동중이다.
- 노채운
  - 기능별 목표: Toss 간편결제 개발 / Kakao 간편결제 개발
  - 목표 달성률 : 40~50% // Toss완료, Kakao 진행 → 이후 Payment 통합과
    Payment ↔ [TempReservation → Reservation] 연동 하기
  - 현재 Payment Entity는 TossPayment에서 필요로 하는 정보를 저장하는 Entity로 개발했습니다.
    그런데 간편결제 종류가 2건으로 늘어난 이상, Payment는 TossPayment를 위한 정보를 기입하는게 아닌, TossPayment , KakaoPayment의 두가지 Entity를 만들고, 이의 정보를 통합하고 가져오기 위한 통합 Payment로 용도를 바꿔야 합니다.
  - Toss와 KakaoPay의 규격 (orderId, PaymentId, Cid, Tid 등)이 다르기 때문에 어떤 정보가 공통적으로 사용되며, 그것을 통합해야하는지 고민해야합니다
  - 추가적으로 Service에서도, Payment의 category 항목을 추가하여
  - kakao건일 경우 결제를 어떻게 처리할 것,
  - toss건일 경우 결제를 어떻게 처리할 것
    등의 로직의 추가 고민 또한 요합니다.
- 양소민
  - 기능별 목표: Q&A 게시판 개발
  - 목표 달성률: 90%
  - 호텔에 관하여 문의사항을 등록하고, 그 문의사항에 대해 답변을 작성할 수 있는 기능을 개발. 문의사항을 등록할 때 hotel_id를 임시로 정적 설정한 부분만 수정하면 개발 완료.
- 정치헌
  - 기능별 목표 : 디자인은 후순위로 두고 전체적인 틀부터 구축
  - 목표달성률 : 10% - js, html, css 조금이라도 익숙해지는데에 목표
  - 성과자체평가 : 짧은 강의도 들어보고 css, html, js를 각각 연결해서 사용하는 부분을 학습

    결과물을 조금은 내보고 싶었는데 아직 역량이 부족해 js를 연결하는 부분에서 어려움

    회의를 진행하면서 피드백을 받고 프론트 방향성 정하기


## 개발 과정에서 나왔던 질문 (최소 200자 이상)

---

개발을 진행하며 나왔던 질문 중 핵심적인 것을 요약하여 작성해 주세요 🙂

- API로 받은 숙소 리스트를 바로 사용자가 조회할 수 있게 할지, 숙소를 등록하는 용도로만 활용할지?
  - 해당 프로젝트의 본질이므로 단순히 API로 숙소 리스트를 사용자에게 보여주는 것은 무의미할 것 같기에 DB에 저장된 숙소 정보만 사용자에게 제공하고, API는 숙소를 등록할때 기존 숙소 정보를 불러오는 용도로 활용한다.
  - 다만 해당 방식은 테스트케이스를 만드는 과정이 번거로울 듯.
- 여러 결제 방식을 지원하는 구조에서 **Payment ↔ TossPayment, KakaoPayment** 의 연결 구조를 어떻게 할 지 고민하고 있습니다
  1. 상속을 이용할지 (BaseEntity extends 사용)
  2. 연관 관계 매핑을 이용할지 (Payment에 Toss_id, KakaoPay_id 부분을 @OneToOne 추가할지)
  3. 잘 모르겠으나 추천받은 Discriminator 컬럼을 사용할지 조사가 필요할 것 같습니다
     (paymentType(Catecorg)에 따라 필요한 컬럼만 사용할지)

  → 아마 1차적으로 (2) 연관관계 매핑을 진행후, 전체적인 파악이 끝난다면 (1) BaseEntity extends방식을 사용할 수도 있을 것 같습니다

- WebSecurityConfig에 oAuth2Login을 설정한 후로 처리되지 않은 예외 발생 시, 모두 /login으로 리다이렉트 되는 문제
  1. 스프링에서 제공하는 oAuth2Login 설정을 사용하지 않고 직접 구현하기
  2.  예외 발생 시, Unauthorized Status를 발생시키는 엔트리포인트로 전부 이동시키기
  - 2번을 사용하여 해결했습니다.
- oAuth2 로그인을 이용해서 멤버를 생성하고 jwt를 사용자에게 리다이렉션 시키면서 줘야하는데
  이 경우 데이터를 어떻게 안전하게 사용자에게 줘야할 지
  -

## 개발 결과물 공유

---

Github Repository URL: https://github.com/likelion-2thProj-2team/hotelreservation

- 필수) 팀원들과 함께 찍은 인증샷(온라인 만남시 스크린 캡쳐)도 함께 업로드 해주세요 🙂
![img.png](img/week2.png)